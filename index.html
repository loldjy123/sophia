<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sophia</title>

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
    rel="stylesheet"
  />

  <link rel="stylesheet" href="chat.css" />
</head>
<body>
  <main class="layout collapsed-left">
    <!-- LEFT: Chats sidebar -->
    <aside class="sidebar sidebar-left" aria-label="Past chats">
      <div class="sidebar-brand-row">
        <div class="sidebar-brand">
          <span class="brand-dot"></span>
          <span class="brand-name">Sophia</span>
        </div>
        <button id="leftHeaderToggle" class="header-toggle-btn" type="button" aria-label="Collapse chats">
          <svg viewBox="0 0 20 14" aria-hidden="true">
            <rect x="1" y="1" width="18" height="12" rx="5" ry="5" fill="none" stroke="currentColor" stroke-width="1.7"/>
            <line x1="10" y1="1" x2="10" y2="13" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
          </svg>
        </button>
      </div>

      <div class="sidebar-main-left">
        <div class="sidebar-header">
          <span class="sidebar-title">Lectures</span>
        </div>

        <nav class="chat-list" aria-label="Chat history"></nav>

        
      </div>

      <!-- Collapsed mini-left -->
      <div class="sidebar-mini-left">
        <button class="mini-brand-btn" id="miniExpandLeft" type="button" aria-label="Expand chats">
          <span class="mini-dot"></span>
          <span class="mini-toggle-icon">
            <svg viewBox="0 0 20 14" aria-hidden="true">
              <rect x="1" y="1" width="18" height="12" rx="5" ry="5" fill="none" stroke="currentColor" stroke-width="1.7"/>
              <line x1="10" y1="1" x2="10" y2="13" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
            </svg>
          </span>
        </button>

        <button class="mini-user" type="button" aria-label="Account">
          <!-- avatar removed -->
        </button>
      </div>
    </aside>

    <!-- CENTER -->
    <section class="center-column">
      <!-- Screen (70% viewport height) -->
      <section id="screen" class="screen" aria-label="Lesson screen">

        <!-- âœ… tutor avatar removed -->

        <div id="feed" class="feed" role="region" aria-live="polite">
        </div>

        <div class="controls" role="toolbar" aria-label="Player controls">
          <div class="controls-left">
            <button id="backBtn" class="ctrl icon-only" aria-label="Previous">
              <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
                <path d="M5 12h4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M11 18l-6-6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M14 6l6 6-6 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>

            <button id="playPauseBtn" class="ctrl icon-only" aria-label="Pause">
              <svg id="pauseIcon" viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
                <rect x="6" y="4" width="4" height="16" rx="1" fill="currentColor"></rect>
                <rect x="14" y="4" width="4" height="16" rx="1" fill="currentColor"></rect>
              </svg>
              <svg id="playIcon" viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" style="display:none">
                <path d="M6 4l14 8-14 8z" fill="currentColor"></path>
              </svg>
            </button>

            <button id="forwardBtn" class="ctrl icon-only" aria-label="Next">
              <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
                <path d="M19 12h-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M13 6l6 6-6 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10 6L4 12l6 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>

          <div class="controls-right">
            <div class="popup-wrapper">
              <div id="questionPopup" class="question-popup-hidden">
                <div class="popup-content">
                  <span id="questionText"></span>
                </div>
              </div>

              <button id="questionBtn" class="ctrl icon-only" aria-label="Ask a question">
                <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z" />
                  <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                  <line x1="12" y1="17" x2="12.01" y2="17" />
                </svg>
              </button>
            </div>

            <button id="handBtn" class="ctrl icon-only" aria-label="Raise hand">
              <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
                <path d="M9 11V5a2 2 0 0 1 4 0v6" fill="none" stroke="currentColor" stroke-width="2" />
                <path d="M13 11V6a2 2 0 0 1 4 0v7" fill="none" stroke="currentColor" stroke-width="2" />
                <path d="M17 13V8a2 2 0 0 1 4 0v9a5 5 0 0 1-5 5h-4a5 5 0 0 1-5-5v-6" fill="none" stroke="currentColor" stroke-width="2" />
              </svg>
            </button>

            <button id="fsBtn" class="ctrl icon-only" aria-label="Toggle fullscreen">
              <svg id="enterFS" viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
                <path d="M4 9V4h5M20 9V4h-5M4 15v5h5M20 15v5h-5" fill="none" stroke="currentColor" stroke-width="2"/>
              </svg>
              <svg id="exitFS" viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" style="display:none">
                <path d="M9 4H4v5M20 9V4h-5M4 15v5h5M20 20h-5v-5" fill="none" stroke="currentColor" stroke-width="2"/>
              </svg>
            </button>
          </div>
        </div>
      </section>

      
      <!-- Prompt bar pinned to bottom <button type="button" id="attachBtn" class="composer-icon-btn" aria-label="Attach a file"> -->
      <form class="composer" onsubmit="return false;">
        <div class="composer-shell-dark">
          <div class="composer-top-row">
            <textarea id="ask" placeholder="Ask Sophia anything..." rows="1"></textarea>
          </div>

          <div class="composer-bottom-row">
            <div class="toolbar-left">
              <div class="attach-menu-container">
                <button type="button" id="plusMenuBtn" class="composer-icon-btn" aria-label="Add content">
                  <svg viewBox="0 0 24 24" width="22" height="22">
                    <path d="M12 5v14M5 12h14" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" />
                  </svg>
                </button>
                
                <div id="plusDropdown" class="plus-dropdown">
                  <button type="button" class="dropdown-item" id="createCourseBtn">
                    <span class="dropdown-icon">ðŸŽ“</span> Create course
                  </button>
                </div>
              </div>
            </div>

            <div class="toolbar-right">
              <button type="submit" id="actionBtn" class="gemini-send-btn composer-action-btn">
                <svg viewBox="0 0 24 24" width="20" height="20">
                  <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" fill="currentColor"/>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </form>
    </section>

   
  </main>

  <script type="importmap">
    {
      "imports": {
        "@google/genai": "https://esm.run/@google/genai"
      }
    }
  </script>

  <script type="module" src="script.js"></script>

  <div id="sophia-overlay" class="sophia-hidden">
  <div class="sophia-orb-wrapper">
    <div id="sophia-orb-container"></div>
    <div class="sophia-status-text">Sophia is listening...</div>
  </div>
</div>

</body>
</html>